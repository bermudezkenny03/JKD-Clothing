<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Actividad Clase 4</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="container">

<h1>ğŸŒ Actividad Clase 4</h1>
<h2>ComunicaciÃ³n entre Servicios + REST + Eventos + Service Discovery</h2>

<p><strong>Equipo:</strong> grupo 4</p>
<p><strong>Proyecto:</strong> JD CLOTHING</p>

<div class="section">
<h2>ğŸªœ 1. Interacciones entre Servicios</h2>

<p><strong>InteracciÃ³n 1: Consulta de productos</strong></p>
<label>Servicio que envÃ­a:</label>
<div class="line">
  <p>
     Cliente Web
  </p>
</div>
<label>Servicio que recibe:</label>
<div class="line">
  <p>
     API Gateway â†’ CatÃ¡logo/Productos
  </p>
</div>
<label>InformaciÃ³n enviada:</label>
<div class="line">
  <p>
     bÃºsqueda/filtros (categorÃ­a, talla, color).
  </p>
</div>
<label>Â¿QuÃ© sucede si no responde?</label>
<div class="line">
  <p>
   -No se puede ver la ropa â†’ afecta directamente ventas.
    </p>
   <p>
    -La web muestra error y permite reintentar.
  </p>
   <p>
    -Se puede activar modo â€œcatÃ¡logo en mantenimientoâ€.
  </p>
</div>

<p><strong>InteracciÃ³n 2</strong></p>
<div class="line">
  <p>
    <label>Servicio que envÃ­a:</label>
    Pedidos (al confirmar compra)
  </p>

  <p>
    <label>Servicio que recibe:</label>
    Inventario
  </p>

  <p>
    <label>InformaciÃ³n enviada:</label>
    idProducto, talla, color, cantidad
  </p>

  <p>
    <label>Â¿QuÃ© sucede si no responde?</label>
    <p>
   - No se confirma la compra
    </p>
    <p>
    - Pedido queda â€œpendiente por validaciÃ³nâ€ o se bloquea checkout
    </p>
    <p>
    - Reintentos controlados + circuit breaker
    </p>
      
  </p>

</div>

<p><strong>InteracciÃ³n 3</strong></p>
<div class="line">
  <p>
    <label>Servicio que envÃ­a:</label>
    Pedidos
  </p>

  <p>
    <label>Servicio que recibe:</label>
    Pagos
  </p>

  <p>
    <label>InformaciÃ³n enviada:</label>
    total, referencia pedido, usuario, mÃ©todo de pago
  </p>

  <p>
    <label>Â¿QuÃ© sucede si no responde?</label>
      <p>
    - Pedido queda Pendiente de pago
      </p>
      <p>
    - Se reintenta con lÃ­mite y se informa al usuario
      </p>
      <p>
    - No se descuenta inventario definitivamente hasta confirmaciÃ³n
      </p>
  </p>
</div>
</div>

<div class="section">
<h2>ğŸªœ 2. REST o Eventos</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>REST</th>
<th>Evento</th>
<th>Â¿Por quÃ©?</th>
</tr>
<tr>
<td>1:Consultar catÃ¡logo/productos</td>
<td>âœ…</td>
<td></td>
<td>Consultar catÃ¡logo/productos</td>
</tr>
<tr>
<td>2:Consultar catÃ¡logo/productos</td>
<td>âœ…</td>
<td></td>
<td>Necesita respuesta para permitir o rechazar compra</td>
</tr>
<tr>
<td>3:Procesar pago</td>
<td>âœ…</td>
<td></td>
<td>Se requiere resultado para actualizar pedido</td>
</tr>
<tr>
<td>4:PagoConfirmado/PagoRechazado</td>
<td></td>
<td>âœ…</td>
<td>Desacopla servicios y evita dependencia directa</td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 3. SÃ­ncrono o AsÃ­ncrono</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>SÃ­ncrono</th>
<th>AsÃ­ncrono</th>
<th>Â¿Por quÃ©?</th>
</tr>
<tr>
<td>1</td>
<td>âœ…</td>
<td></td>
<td>El usuario espera ver productos al instante</td>
</tr>
<tr>
<td>2</td>
<td>âœ…</td>
<td></td>
<td>Checkout necesita confirmaciÃ³n de stock</td>
</tr>
<tr>
<td>3</td>
<td>âœ…</td>
<td></td>
<td>El usuario espera resultado del pago</td>
</tr>
<tr>
<td>4</td>
<td></td>
<td>âœ…</td>
<td>Actualizar pedido/stock sin bloquear el flujo principal</td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 4. Eventos Importantes del Sistema</h2>

1ï¸âƒ£ CarritoConfirmado<br><br>

2ï¸âƒ£ PagoConfirmado<br><br>

3ï¸âƒ£ PagoRechazado<br><br>

4ï¸âƒ£ PedidoCreado<br><br>

5ï¸âƒ£ StockDescontado

</div>


<div class="section">
<h2>ğŸªœ 5. AnÃ¡lisis de Fallos</h2>

<label>Servicio mÃ¡s crÃ­tico:</label>
<div class="line">
  <p>
    âœ… Servicio de CatÃ¡logo / Productos (y su relaciÃ³n con Inventario).
  </p>
</div>

<label>Â¿QuÃ© pasarÃ­a si falla?</label>
<div class="line">
  <p>
    Los usuarios no pueden ver la ropa, tallas, colores ni precios.<br>
    Se cae la funciÃ³n principal del negocio (sin catÃ¡logo no hay ventas).<br>
    Carrito y Pedidos no pueden validar informaciÃ³n del producto o stock.
  </p>
</div>

<label>Â¿El sistema debe detenerse o continuar?</label>
<div class="line">
  <p>
    Debe continuar parcialmente.<br>
    Usuarios puede seguir funcionando.<br>
    Carrito puede mantener productos agregados.<br>
    âŒ Checkout (Pedidos/Pagos) debe bloquearse si no se puede validar producto o stock.
  </p>
</div>

<label>Â¿CÃ³mo podrÃ­an manejar este fallo?</label>
<div class="line">
  <p>
    Mostrar catÃ¡logo en cachÃ© (modo solo lectura).<br>
    Activar mensaje: â€œCatÃ¡logo en mantenimientoâ€ sin tumbar toda la web.<br>
    Implementar timeouts y patrÃ³n Circuit Breaker desde API Gateway.<br>
    Reintentos controlados (backoff).<br>
    Monitoreo y logs para reiniciar contenedores rÃ¡pidamente.
  </p>
</div>

</div>


<div class="section">
<h2>ğŸªœ 6. Service Discovery</h2>

<label>Â¿QuÃ© problema ocurre si cambia la IP de un servicio (contenedor)?</label>
<div class="line">
  <p>
    Los demÃ¡s servicios no sabrÃ­an dÃ³nde encontrarlo y fallarÃ­an las llamadas.
  </p>
</div>

<label>Â¿CÃ³mo sabe un servicio dÃ³nde encontrar a otro?</label>
<div class="line">
  <p>
    En Docker: por nombre del servicio dentro de la red (DNS interno).<br>
    En sistemas grandes: usando Service Discovery (Consul, Eureka o Kubernetes DNS).
  </p>
</div>

<label>Â¿Por quÃ© es Ãºtil?</label>
<div class="line">
  <p>
    Evita depender de IPs fijas y permite que los servicios se encuentren dinÃ¡micamente.<br>
    Es clave para escalar y mantener microservicios distribuidos.
  </p>
</div>

<label>Â¿DÃ³nde lo aplicarÃ­an en JD CLOTHING?</label>
<div class="line">
  <p>
    API Gateway â†’ Usuarios / Productos / Carrito / Pedidos / Pagos<br>
    Pedidos â†’ Inventario / Pagos<br>
    Pagos â†’ publica eventos que consumen Pedidos e Inventario
  </p>
</div>

</div>


<div class="section">
<h2>ğŸªœ 7. Mini Diagrama</h2>
<p><img src="image.jpeg" width="900" alt="Mini diagrama"></p>
<p><strong>Flujo principal:</strong></p>

<p>
Cliente (Web)<br>
â†’ API Gateway<br>
â†’ (REST) Productos / CatÃ¡logo<br>
â†’ (REST) Carrito<br>
â†’ (REST) Pedidos<br>
â†’ (REST) Pagos<br>
â†’ (EVENTO PagoConfirmado / PagoRechazado) â†’ Broker/Cola<br>
â†’ Pedidos actualiza estado<br>
â†’ Inventario descuenta stock
</p>

</div>


<div class="note">
ğŸ’¡ <strong>Conceptos Clave</strong><br>
REST â†’ peticiÃ³n directa entre servicios<br>
Evento â†’ algo ocurriÃ³ y otros servicios reaccionan<br>
SÃ­ncrono â†’ espera respuesta<br>
AsÃ­ncrono â†’ continÃºa sin esperar<br>
Service Discovery â†’ permite encontrar servicios automÃ¡ticamente<br>
Docker â†’ cada microservicio corre en su propio contenedor
</div>


<div class="footer">
ğŸ¤ El equipo debe poder explicar:<br>
âœ” Una interacciÃ³n importante (consulta de Productos o checkout completo)<br>
âœ” Un evento del sistema (ej: PagoConfirmado)<br>
âœ” QuÃ© pasa si falla CatÃ¡logo â†’ modo cachÃ© + bloqueo checkout<br>
âœ” DÃ³nde usarÃ­an Service Discovery (comunicaciÃ³n entre contenedores)<br>
âœ” Por quÃ© Docker es clave en este sistema distribuido
</div>
</div>
</body>
</html>
